<div class="container">
  <%= form_with(model: users_preference) do |form| %>
    <% if users_preference.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(users_preference.errors.count, "error") %> prohibited this users_preference from being saved:</h2>

        <ul>
          <% users_preference.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <section class="preference-tags">
      <%= form.collection_check_boxes :users_preferences_tag_ids, @tags, :id, :tag_id do |b| %>
        <p class="form-check custom-form custom-form--checkbox">
          <%= b.check_box %>
          <%= b.label %>
        </p>
      <% end %>
    </section>

    <section class="frequency">
      <%= form.label :mail_frequency %>
      <%= form.number_field :mail_frequency %>
    </section>

    <div class="actions">
      <%= form.submit %>
    </div>
  <% end %>
</div>

<style>
  .preference-tags .form-check label {
    /* font-weight: 400; */
      /* width: 100%; */
      border-radius: 80px;
  }

  .form-check-input{
    display: none !important;
  }
  .preference-tags .form-check input[type=checkbox]:checked~label,
  .preference-tags .form-check input[type=radio]:checked~label {
      background-color: #1A7FFA;
      color: #FFFFFF;
  }

  .preference-tags .form-check label,
  .preference-tags .form-check label {
      padding: .5em 1em .5em 2em;
      cursor: pointer;
  }

  .form-check {
    border: 1px solid #9F9F9F;
    border-radius: 80px;
    display: inline-block;
    padding: 0;
  }

  .form-check-inline .form-check-input,
  .form-check-input {
      position: absolute;
      opacity: 0;
  }

</style>
